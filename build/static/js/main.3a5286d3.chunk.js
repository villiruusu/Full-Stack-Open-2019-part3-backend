(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(13),l=n.n(u),c=n(2),o=function(e){var t=e.addNumber,n=e.newName,a=e.handleNameAdding,u=e.newNumber,l=e.handleNumberAdding;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"name:",r.a.createElement("input",{value:n,onChange:a})),r.a.createElement("div",null,"number:",r.a.createElement("input",{value:u,onChange:l})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},i=function(e){var t=e.persons,n=e.newFilter,a=e.deletePerson,u=n.toLowerCase();return t.filter((function(e){return e.name.toLowerCase().includes(u)})).map((function(e){return r.a.createElement("div",{key:e.number},e.name," ",e.number,r.a.createElement("button",{onClick:function(){return a(e)}},"Delete"))}))},m=function(e){var t=e.newFilter,n=e.filterNames;return r.a.createElement("form",null,"Filter with:",r.a.createElement("input",{value:t,onChange:n}))},d=function(e){var t=e.message,n=e.className;return null===t?null:r.a.createElement("div",{className:n},t)},s=n(3),f=n.n(s),b="http://localhost:3001/api/persons",h=function(){return f.a.get(b).then((function(e){return e.data}))},p=function(e){return f.a.post(b,e).then((function(e){return e.data}))},E=function(e){return f.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))},w=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],u=t[1],l=Object(a.useState)(""),s=Object(c.a)(l,2),f=s[0],b=s[1],w=Object(a.useState)(""),v=Object(c.a)(w,2),N=v[0],g=v[1],j=Object(a.useState)(""),O=Object(c.a)(j,2),k=O[0],S=O[1],C=Object(a.useState)(null),F=Object(c.a)(C,2),y=F[0],A=F[1],D=Object(a.useState)(""),P=Object(c.a)(D,2),J=P[0],L=P[1];Object(a.useEffect)((function(){h().then((function(e){u(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(d,{message:y,className:J}),r.a.createElement("h2",null,"Filter numbers"),r.a.createElement(m,{newFilter:k,filterNames:function(e){e.preventDefault(),S(e.target.value)}}),r.a.createElement("h2",null,"Add a new contact"),r.a.createElement(o,{addNumber:function(e){e.preventDefault();var t={name:f,number:N};if(n.some((function(e){return e.name===f})))window.alert("".concat(f," is already added to phonebook"));else if(n.some((function(e){return e.number===N})))window.alert("".concat(N," is already added to phonebook"));else{p(t).then((function(e){u(n.concat(e)),A("".concat(e.name," was added to phonebook")),L("add"),setTimeout((function(){A(null),L("")}),5e3),b(""),g("")}))}},newName:f,handleNameAdding:function(e){b(e.target.value)},newNumber:N,handleNumberAdding:function(e){g(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(i,{persons:n,newFilter:k,deletePerson:function(e){if(window.confirm("Delete ".concat(e.name," ?"))){E(e.id).then((function(t){u(n.filter((function(t){return t.id!==e.id}))),A("".concat(e.name," was deleted from phonebook")),L("delete"),setTimeout((function(){A(null),L("")}),5e3)}))}}}))};n(36);l.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.3a5286d3.chunk.js.map